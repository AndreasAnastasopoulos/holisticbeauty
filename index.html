<!DOCTYPE html>
<html lang="el">

<head>
  <title>House Spa</title>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="description" content="homepage">
  <link rel="stylesheet" href="styleaki.css">
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@200;400;600;700&display=swap" rel="stylesheet">
  <script src="https://kit.fontawesome.com/57265726f8.js" crossorigin="anonymous"></script>
  <link rel="apple-touch-icon" sizes="180x180" href="images/newimgs/favicon_io (1)/apple-touch-icon.png">
  <link rel="icon" type="image/png" sizes="32x32" href="images/newimgs/favicon_io (1)/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="16x16" href="images/newimgs/favicon_io (1)/favicon-16x16.png">
  <link rel="manifest" href="images/newimgs/favicon_io (1)/site.webmanifest">
  <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
  <script>
    $(document).ready(function () {
      // Fade in delay for the background overlay
      $("#bkgOverlay").delay(4800).fadeIn(400);
      // Fade in delay for the popup
      $("#delayedPopup").delay(5000).fadeIn(400);

      // Hide dialog and background when the user clicks the close button
      $("#btnClose").click(function (e) {
        HideDialog();
        e.preventDefault();
      });
    });

    // Controls how the modal popup is closed with the close button
    function HideDialog() {
      $("#bkgOverlay").fadeOut(400);
      $("#delayedPopup").fadeOut(300);
    }
  </script>
  <script src="script.js"></script>
</head>

<body class="main-page">
  <video autoplay loop muted playsinline preload="auto" class="back-video">
    <source src="images/newimgs/homevideofinal.webm" type="video/webm">
    <source src="images/newimgs/homevideofinal.mp4" type="video/mp4">
  </video>

  <nav>
    <div class="logo-nav-insta-wrapper">
      <div class="icons">
        <a
          href="https://www.instagram.com/house_spa.holistic_beauty/?igshid=MzRlODBiNWFlZA%3D%3D&fbclid=IwAR1AkODjAt-B4QmifnteltO7VgVLDSogBm6hFmDRjrzC4aXeuEPh4ZGFhLs">
          <i class="fa-brands fa-instagram"></i>
        </a>
      </div>
      <div>
        <a href="index.html">
          <img src="images/newimgs/House Spa_logo.png" alt="Logo">
        </a>
      </div>
      <div class="menu-wrap">
        <input type="checkbox" class="toggler">
        <div class="hamburger">
          <div></div>
        </div>
        <div class="menu">
          <div>
            <div>
              <ul>
                <li><a tabindex="0" class="underline-hover-btn" href="philosophy.html" data-touch-interact="true">ΣΧΕΤΙΚΑ ΜΕ
                    ΕΜΕΝΑ</a></li>
                <li><a tabindex="0" class="underline-hover-btn" href="appointment.html" data-touch-interact="true">ΟΛΙΣΤΙΚΕΣ ΘΕΡΑΠΕΙΕΣ</a></li>
                <li><a tabindex="0" class="underline-hover-btn" href="consulting.html" data-touch-interact="true">ΣΥΜΒΟΥΛΕΥΤΙΚΗ</a></li>
                <li><a tabindex="0" class="underline-hover-btn" href="images/House Spa Holistic Training.pdf"
                    title="House Spa Holistic Training" target="_blank" data-touch-interact="true">HOUSE SPA HOLISTIC TRAINING</a></li>
                <li><a tabindex="0" class="underline-hover-btn" href="contact.html" data-touch-interact="true">ΕΠΙΚΟΙΝΩΝΙΑ</a></li>
              </ul>
            </div>
          </div>
        </div>
      </div>
    </div>
  </nav>

  <div class="center-content">
    <div class="text-box">
      <h1 tabindex="0" data-touch-interact="true">Η ΑΛΗΘΙΝΗ ΛΑΜΨΗ ΕΙΝΑΙ ΜΕΣΑ ΣΟΥ</h1>
    </div>
    <div class="button-container">
      <a title="Κλείσε την θεραπεία σου εδώ" href="appointment.html" class="hero-btn" data-touch-interact="true">Έτοιμη για τη δική σου στιγμή
        χαλάρωσης;</a>
    </div>
  </div>


  <div id="bkgOverlay" class="backgroundOverlay"></div>

  <div id="delayedPopup" class="delayedPopupWindow">
    <!-- This is the close button -->
    <a href="#" id="btnClose" title="Θα προτιμούσα να μην μοιραστώ το email μου.">[ X ]</a>
    <h2 style="text-align: left;">Ανακάλυψε τα μυστικά της ολιστικής ομορφιάς! Άφησε το email σου και
      λάβε μοναδικές συμβουλές αυτοφροντίδας απευθείας στο inbox σου.</h2>
    <form style="padding-top: 12px;" id="contactForm" method="post" class="contact-form">
      <div class="form-group">
        <input style="border: 1px solid #503b31; background-color: beige;" placeholder="Email" type="email" id="email"
          name="email" required>
      </div>
      <div class="form-group">
        <label>
          <p style="font-size: 0.9rem; line-height: 1.2rem;"><input type="checkbox" id="consentCheckbox">
            Αποδέχομαι να μοιραστώ τα στοιχεία μου και να λαμβάνω
            email από το House Spa.</p>
        </label>
      </div>
      <button type="submit" class="submit-btn" id="submitButton">ΘΕΛΩ</button>
    </form>
  </div>

  <script>
    function handleSubmit(event) {
      event.preventDefault();

      const consentCheckbox = document.getElementById('consentCheckbox');
      if (!consentCheckbox.checked) {
        alertbox.render({
          alertIcon: 'error',
          title: 'Κάτι πήγε λάθος...',
          message: 'Παρακαλώ αποδεχτείτε τους όρους πριν υποβάλετε τη φόρμα.',
          btnTitle: 'Συνέχεια',
          themeColor: '#503b31',
          btnColor: '#503b31',
          border: true
        });
        return;
      }

      console.log('Form submission started');

      const data = {
        name: document.getElementById('name').value,
        email: document.getElementById('email').value,
        phone: document.getElementById('phone').value
      };

      console.log('Sending data:', data);

      fetch('submit_form.php', {
        method: 'POST',
        headers: {
          'Content-Type': 'application/json',
          'Accept': 'application/json'
        },
        body: JSON.stringify(data)
      })
        .then(response => {
          console.log('Response received:', response);
          return response.json();
        })
        .then(result => {
          console.log('Success:', result);
          document.getElementById('contactForm').reset();
          alertbox.render({
            alertIcon: 'success',
            title: 'Ευχαριστούμε για την εμπιστοσύνη.',
            message: 'Αγκαλιάστε την μοναδικότητά σας!',
            btnTitle: 'Συνέχεια',
            themeColor: '#247E00',
            btnColor: '#247E00',
            border: true
          });
        })
        .catch(error => {
          console.error('Error:', error);
          alertbox.render({
            alertIcon: 'error',
            title: 'Κάτι πήγε λάθος...',
            message: 'Ξανασυμπληρώστε την φόρμα.',
            btnTitle: 'Συνέχεια',
            themeColor: '#503b31',
            btnColor: '#503b31',
            border: true
          });
          document.getElementById('contactForm').reset();
        });
    }

    // Make sure the event listener is attached
    document.addEventListener('DOMContentLoaded', function () {
      const form = document.getElementById('contactForm');
      if (form) {
        form.addEventListener('submit', handleSubmit);
      } else {
        console.error('Form element not found!');
      }
    });
  </script>
  <script src="https://cdn.jsdelivr.net/gh/noumanqamar450/alertbox@main/version/1.0.2/alertbox.min.js"></script>
</body>


</html>